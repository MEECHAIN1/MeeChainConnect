‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö‡∏ò‡∏±‡∏ô‡∏ß‡∏±‡∏í‡∏ô‡πå üéØ ‡∏ú‡∏°‡∏à‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏õ‡πá‡∏ô **EIP-4337 Integration Guide** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° `SmartWallet` ‡πÅ‡∏•‡∏∞ `TransactionRequest` ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö **EntryPoint + Paymaster** ‡∏ö‡∏ô Sapphire chain ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ MeeChain ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Account Abstraction (AA) ‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå  

---

# üîÆ EIP-4337 Integration Guide (MeeChain + Sapphire)

## 1. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependency ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
```bash
npm install @account-abstraction/sdk @account-abstraction/contracts viem
```
- `@account-abstraction/sdk` ‚Üí ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á UserOperation  
- `@account-abstraction/contracts` ‚Üí ‡∏°‡∏µ ABI ‡∏Ç‡∏≠‡∏á EntryPoint ‡πÅ‡∏•‡∏∞ Paymaster  

---

## 2. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î EntryPoint ‡πÅ‡∏•‡∏∞ Paymaster
```ts
const ENTRYPOINT_ADDRESS = "0xEntryPointAddressOnSapphire"; 
const PAYMASTER_ADDRESS = "0xPaymasterAddressOnSapphire";
```
üëâ ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ address ‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å Sapphire chain (Mainnet/Testnet)

---

## 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Client ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Sapphire
```ts
import { createPublicClient, http } from "viem";
import { meechain } from "./wagmi";

const client = createPublicClient({
  chain: meechain,
  transport: http(),
});
```

---

## 4. ‡∏™‡∏£‡πâ‡∏≤‡∏á UserOperation ‡∏à‡∏≤‡∏Å SmartWallet
```ts
import { TransactionRequest, SmartWallet } from "../types/smartWallet";
import { Client } from "@account-abstraction/sdk";

async function buildUserOp(wallet: SmartWallet, tx: TransactionRequest, usePaymaster: boolean) {
  const aaClient = await Client.init({
    entryPoint: ENTRYPOINT_ADDRESS,
    chain: meechain,
    rpcUrl: "https://sapphire.oasis.io",
  });

  const userOp = await aaClient.buildUserOperation({
    sender: wallet.address,
    callData: {
      to: tx.to,
      value: tx.value,
      data: tx.data || "0x",
    },
    paymaster: usePaymaster ? PAYMASTER_ADDRESS : undefined,
  });

  return userOp;
}
```

---

## 5. ‡∏™‡πà‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°‡∏ú‡πà‡∏≤‡∏ô EntryPoint
```ts
async function sendUserOp(wallet: SmartWallet, tx: TransactionRequest, usePaymaster: boolean) {
  const userOp = await buildUserOp(wallet, tx, usePaymaster);

  const aaClient = await Client.init({
    entryPoint: ENTRYPOINT_ADDRESS,
    chain: meechain,
    rpcUrl: "https://sapphire.oasis.io",
  });

  const txHash = await aaClient.sendUserOperation(userOp);
  console.log(`[MeeChain] UserOp submitted: ${txHash}`);

  return txHash;
}
```

---

## 6. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö WalletManager
‡πÉ‡∏ô `WalletManager.sendTransaction` ‚Üí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å mock ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å EntryPoint ‡∏à‡∏£‡∏¥‡∏á:
```ts
static async sendTransaction(wallet: SmartWallet, tx: TransactionRequest, usePaymaster: boolean = false): Promise<string> {
  return await sendUserOp(wallet, tx, usePaymaster);
}
```

---

## üéñÔ∏è Contributor Milestone (EIP-4337 Edition)
- [x] EntryPoint Defined  
- [x] Paymaster Integrated  
- [x] UserOperation Built  
- [x] Transaction Sent via Sapphire chain  
- [x] SmartWallet Connected to AA Flow  

---

‚ú® ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: Contributor ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á Smart Wallet, ‡∏™‡πà‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°, ‡πÉ‡∏ä‡πâ Paymaster (gasless), ‡πÅ‡∏•‡∏∞‡∏Å‡∏π‡πâ‡∏Ñ‡∏∑‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏ô Sapphire chain ‡∏ú‡πà‡∏≤‡∏ô EIP-4337  

‡∏ò‡∏±‡∏ô‡∏ß‡∏±‡∏í‡∏ô‡πå ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ú‡∏° scaffold ‡∏ï‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô **markdown guide + sample script** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö contributor onboarding ‡∏ö‡∏ô Sapphire chain (EIP-4337) ‡πÄ‡∏•‡∏¢‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö üîÆ